<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday, Angelica! üéâ</title>
  <meta name="description" content="A tiny birthday site with a message, photo gallery, and confetti!"/>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #fff7fb;
      --card: #ffffff;
      --ink: #2a2438;
      --accent: #ff7aa2;
      --accent-2: #8a7cff;
    }
    *{ box-sizing: border-box; }
    html, body{ margin:0; padding:0; font-family: Poppins, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; color: var(--ink); background: radial-gradient(1200px 800px at 10% -10%, #ffe3ef 0%, rgba(255,227,239,0) 60%),
                radial-gradient(1000px 600px at 110% 10%, #e8e6ff 0%, rgba(232,230,255,0) 60%), var(--bg); }

    .hearts{ position: fixed; inset: 0; pointer-events:none; overflow:hidden; z-index:0; }
    .heart{ position:absolute; width:18px; height:18px; transform: rotate(45deg); animation: float 12s linear infinite; opacity:0.25; }
    .heart::before, .heart::after{ content:""; position:absolute; width:18px; height:18px; background: currentColor; border-radius:50%; }
    .heart{ background: currentColor; }
    .heart::before{ left:-9px; }
    .heart::after{ top:-9px; }
    @keyframes float{ 0%{ transform: translateY(110vh) rotate(45deg); } 100%{ transform: translateY(-10vh) rotate(45deg); } }

    header{ position: relative; z-index: 1; padding: 48px 20px 16px; text-align:center; }
    .title{ font-weight:800; font-size: clamp(2rem, 4vw + 1rem, 3.25rem); margin: 0; cursor: pointer; }
    .subtitle{ margin:12px auto 0; max-width: 780px; line-height:1.6; font-size: clamp(1rem, 1.2vw + .8rem, 1.2rem); }

    .actions{ display:flex; gap:10px; justify-content:center; align-items:center; flex-wrap:wrap; margin-top: 18px; }
    .cta, .btn{
      display:inline-flex; align-items:center; gap:.6rem; padding: .8rem 1rem;
      border-radius: 999px; background: linear-gradient(90deg, var(--accent), var(--accent-2)); color:white; text-decoration:none; font-weight:600;
      box-shadow: 0 10px 30px rgba(255,122,162,.25); border: none; cursor: pointer;
    }

    main{ position: relative; z-index: 1; padding: 12px 20px 64px; }

    .card{ max-width: 1100px; margin: 0 auto; background: var(--card); border-radius: 24px; padding: 22px; box-shadow: 0 10px 30px rgba(34, 16, 64, 0.08); }

    /* Tighter gaps between tiles */
    .grid{
      display: grid;
      gap: 8px; /* mobile */
      grid-template-columns: repeat(2, 1fr);
    }
    @media (min-width: 720px){
      .grid{ grid-template-columns: repeat(3, 1fr); gap: 10px; }
    }
    @media (min-width: 1040px){
      .grid{ grid-template-columns: repeat(4, 1fr); gap: 12px; }
    }

    /* Polaroid-style tiles (restored frame with thicker bottom) */
    .tile{
      position: relative;
      overflow: hidden;
      background:#fff;                 /* Polaroid paper */
      border: 2px solid #eee;          /* subtle outer edge */
      border-radius: 6px;
      aspect-ratio: 3 / 4;             /* Polaroid feel */
      display: grid;                   /* ensure caption always fits */
      grid-template-rows: 1fr auto;    /* image grows, caption takes its height */
      align-items: stretch;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
      padding: 6px 6px 10px 6px;       /* slight bottom space; caption adds its own margin */
    }
    .tile img{
      width: 100%;
      height: 100%;                    /* fill the first row */
      object-fit: cover;
      border-radius: 4px;
      transition: transform .5s ease;
      min-height: 0;                   /* allow it to shrink if caption needs room */
    }
    .tile:hover img{ transform: scale(1.05); }
    .tile:hover img{ transform: scale(1.05); }

    /* Lightbox */
    .lightbox{ position: fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,.75); z-index: 10; }
    .lightbox.open{ display:flex; }
    .lightbox img{ max-width: min(92vw, 1200px); max-height: 86vh; border-radius: 16px; box-shadow: 0 20px 60px rgba(0,0,0,.4); }
    .lightbox .close{ position:absolute; top: 18px; right: 18px; background: #ffffff; border:none; border-radius: 999px; width: 44px; height: 44px; cursor:pointer; font-size: 24px; }

    /* Nav arrows */
    .nav{ position:absolute; top:50%; transform: translateY(-50%); display:flex; align-items:center; justify-content:center; width: 56px; height:56px; border:none; border-radius: 999px; background: rgba(255,255,255,.9); cursor:pointer; box-shadow: 0 6px 24px rgba(0,0,0,.25); font-size: 22px; }
    .nav:active{ transform: translateY(-50%) scale(.98); }
    .nav.prev{ left: 20px; }
    .nav.next{ right: 20px; }

    .counter{ position:absolute; bottom: 18px; left:50%; transform: translateX(-50%); background: rgba(0,0,0,.55); color:#fff; padding: 6px 10px; border-radius: 999px; font-size: .9rem; }

    footer{ text-align:center; opacity:.7; font-size: .9rem; padding: 24px 0; }
    /* Snoopy sticker styles */
  .snoopy{
    position:absolute;
    pointer-events:none;
    z-index:0;                      /* same layer as hearts, behind content */
    animation: floatS linear infinite;
    opacity: .9;
    filter: drop-shadow(0 8px 16px rgba(0,0,0,.15));
    will-change: transform;
  }
  @keyframes floatS{
    0%   { transform: translateY(110vh) translateX(0) rotate(0deg); }
    50%  { transform: translateY(55vh)  translateX(12px) rotate(1.5deg); }
    100% { transform: translateY(-10vh) translateX(0) rotate(0deg); }
  }
</style>
  <!-- Handwritten font + small CSS overrides for captions -->
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
  <style>
    /* add caption style and tweak polaroid padding a bit */
    .caption{ font-family: 'Patrick Hand', cursive; font-size: 0.95rem; color: #444; margin-top: 8px; text-align:center; line-height: 1.15; width: 100%; white-space: normal; word-break: break-word; }
    .tile{ padding-bottom: 14px; }
  </style>
</head>
<body>
  <div class="hearts" aria-hidden="true"></div>

  <header>
    <h1 class="title" id="confettiTitle">Happy Birthday, <span id="name">Angelica</span>! üíñ</h1>
    <p class="subtitle">I put together some of my favorite memories with you. Thank you for being my best friend, my favorite adventure, and the love of my life. Here‚Äôs to many more laughs, photos, and surprises together. üéÇ‚ú®</p>
    <div class="actions">
      <a class="cta" href="#gallery">Jump to Photos ‚Üì</a>
      <button class="btn" id="confettiBtn" type="button">üéâ Celebrate</button>
    </div>
  </header>

  <main>
    <section class="card" id="gallery">
      <div class="grid" id="grid"></div>
    </section>
  </main>

  <footer>
    Made with ‚ù§Ô∏è by <span id="fromName">Raymond</span>
  </footer>

  <div class="lightbox" id="lightbox" role="dialog" aria-modal="true" aria-label="Photo viewer">
    <button class="close" id="closeBtn" aria-label="Close">√ó</button>
    <button class="nav prev" id="prevBtn" aria-label="Previous">‚Äπ</button>
    <img id="lightboxImg" alt="Enlarged photo" />
    <button class="nav next" id="nextBtn" aria-label="Next">‚Ä∫</button>
    <div class="counter" id="counter">1 / 1</div>
  </div>

  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script>
    const birthdayPersonName = "Angelica";
    const fromName = "Raymond";

    const photos = [
      "photo1.jpg","photo2.jpg","photo3.jpg","photo4.jpg","photo5.jpg",
      "photo6.jpg","photo7.jpg","photo8.jpg","photo9.jpg","photo10.JPG",
      "photo11.jpg","photo12.JPG","photo13.jpg","photo14.jpg","photo15.jpg",
      "photo16.jpg","photo18.jpg"
    ];
    const captions = [
      "West Chester, PA",
      "Wildwood, NJ",
      "Formal 2023 - East Stroudsburg, PA",
      "Diamond Beach, NJ",
      "Two Mile Landing, NJ",
      "Playa Del Carmen, Mexico",
      "Tulum, Mexico",
      "Juventus Game ‚Äî Philadelphia, PA",
      "Chichen Itza, Mexico",
      "West Chester, PA",
      "Angelica's 21st Birthday",
      "Formal 2023 - East Stroudsburg, PA",
      "Disney - Orlando, FL",
      "Wildwood, NJ",
      "Blue Ridge Estate Vineyard & Winery",
      "Two Mile Landing, NJ",
      "",
      "East Stroudsburg, PA"
    ];

    document.getElementById('name').textContent = birthdayPersonName;
    document.getElementById('fromName').textContent = fromName;

    // Floating hearts
    const heartsWrap = document.querySelector('.hearts');
    const colors = ["#ff7aa2", "#8a7cff", "#ffc371", "#7ce6cf"];
    for (let i=0; i<24; i++){
      const h = document.createElement('div');
      h.className = 'heart';
      h.style.left = Math.random()*100 + 'vw';
      h.style.animationDelay = (Math.random()*-12) + 's';
      h.style.animationDuration = (9 + Math.random()*6) + 's';
      h.style.color = colors[i % colors.length];
      heartsWrap.appendChild(h);
    }

    // === Floating Snoopy stickers (mix with hearts) ===
    // Add 2‚Äì4 PNGs named snoopy1.png, snoopy2.png, ... in ./images (transparent background works best)
    const snoopyImgs = ["snoopy1.png", "snoopy2.png"]; // add more if you have them
    const snoopyCount = window.matchMedia('(max-width: 480px)').matches ? 2 : 5; // fewer on small screens
    (function spawnSnoopys(){
      for (let i = 0; i < snoopyCount; i++){
        const s = document.createElement('img');
        s.className = 'snoopy';
        s.src = `images/${snoopyImgs[i % snoopyImgs.length]}`;
        const size = 50 + Math.random()*40;     // 50‚Äì90px (about half the previous size)     // 100‚Äì180px
        s.style.width = size + 'px';
        s.style.left = Math.random()*100 + 'vw';
        s.style.animationDuration = (14 + Math.random()*10) + 's';
        s.style.animationDelay = (Math.random()*-20) + 's';
        heartsWrap.appendChild(s);
      }
    })();

    // Build gallery
    const grid = document.getElementById('grid');
    photos.forEach((file, idx) => {
      const tile = document.createElement('figure');
      tile.className = 'tile';
      const img = document.createElement('img');
      img.src = `images/${file}`;
      img.alt = captions[idx] || `Photo ${idx+1}`;
      tile.appendChild(img);
      if (captions[idx]) {
        const cap = document.createElement('figcaption');
        cap.className = 'caption';
        cap.textContent = captions[idx];
        tile.appendChild(cap);
      }
      tile.addEventListener('click', () => openLightbox(idx));
      grid.appendChild(tile);
    });

    // Lightbox logic with next/prev + swipe
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightboxImg');
    const closeBtn = document.getElementById('closeBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const counter = document.getElementById('counter');

    let currentIndex = 0;

    function updateCounter(){ counter.textContent = `${currentIndex+1} / ${photos.length}`; }

    function show(index){
      currentIndex = (index + photos.length) % photos.length; // wrap
      const file = photos[currentIndex];
      const alt = captions[currentIndex] || `Photo ${currentIndex+1}`;
      lightboxImg.src = `images/${file}`;
      lightboxImg.alt = alt;
      updateCounter();
    }

    function openLightbox(index){ show(index); lightbox.classList.add('open'); }
    function closeLightbox(){ lightbox.classList.remove('open'); setTimeout(() => { lightboxImg.src = ''; }, 200); }

    function next(){ show(currentIndex + 1); }
    function prev(){ show(currentIndex - 1); }

    nextBtn.addEventListener('click', next);
    prevBtn.addEventListener('click', prev);
    closeBtn.addEventListener('click', closeLightbox);

    lightbox.addEventListener('click', (e)=>{ if(e.target === lightbox) closeLightbox(); });
    lightboxImg.addEventListener('click', next);

    window.addEventListener('keydown', (e)=>{
      if(!lightbox.classList.contains('open')) return;
      if(e.key === 'Escape') closeLightbox();
      if(e.key === 'ArrowRight') next();
      if(e.key === 'ArrowLeft') prev();
    });

    let touchStartX = 0, touchEndX = 0;
    lightbox.addEventListener('touchstart', (e)=>{ touchStartX = e.changedTouches[0].screenX; }, {passive:true});
    lightbox.addEventListener('touchend', (e)=>{
      touchEndX = e.changedTouches[0].screenX;
      const dx = touchEndX - touchStartX;
      const threshold = 40;
      if(Math.abs(dx) > threshold){ dx < 0 ? next() : prev(); }
    }, {passive:true});

    // Confetti
    function burstConfetti(durationMs = 1200){
      const end = Date.now() + durationMs;
      (function frame(){
        confetti({ particleCount: 3, angle: 60, spread: 55, origin: { x: 0 }, ticks: 120 });
        confetti({ particleCount: 3, angle: 120, spread: 55, origin: { x: 1 }, ticks: 120 });
        if (Date.now() < end) requestAnimationFrame(frame);
      })();
    }
    window.addEventListener('load', () => burstConfetti(900));
    document.getElementById('confettiBtn').addEventListener('click', () => burstConfetti(1500));
    document.getElementById('confettiTitle').addEventListener('click', () => burstConfetti(1200));
  </script>
</body>
</html>
